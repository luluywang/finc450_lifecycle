{
  "tasks": [
    {
      "id": 1,
      "number": 1,
      "title": "Create PNG Export Infrastructure",
      "description": "Add utility functions to save matplotlib figures as PNG",
      "type": "code",
      "depends_on": [],
      "status": "complete"
    },
    {
      "id": 2,
      "number": 2,
      "title": "Modify generate_report.py for PNG Export",
      "description": "Save 40 panels from lifecycle_report.pdf",
      "type": "code",
      "depends_on": [1],
      "status": "complete",
      "notes": "Added _save_base_case_panels, _save_beta_comparison_panels, _save_allocation_comparison_panels helpers; modified generate_lifecycle_pdf to export PNG panels with export_png=True parameter"
    },
    {
      "id": 3,
      "number": 3,
      "title": "Modify compare_teaching_scenarios.py for PNG Export",
      "description": "Save 54 panels from teaching_scenarios.pdf",
      "type": "code",
      "depends_on": [1],
      "status": "complete",
      "notes": "Added save_axes_as_png, save_scenario_panels, save_summary_panels helpers; modified create_scenario_figure and create_summary_figure to return axes; integrated PNG export into generate_teaching_scenarios_pdf"
    },
    {
      "id": 4,
      "number": 4,
      "title": "Create Output Directory Structure",
      "description": "Ensure output/teaching_panels/ exists",
      "type": "code",
      "depends_on": [],
      "status": "complete"
    },
    {
      "id": 5,
      "number": 5,
      "title": "Add 'Run Simulation' Button to Scenarios Tab Header",
      "description": "Add button to trigger scenario computation on demand",
      "type": "code",
      "depends_on": [],
      "status": "complete",
      "notes": "Added simulationRun and scenarioComputing state variables; button visible at top of Scenarios tab with loading state"
    },
    {
      "id": 6,
      "number": 6,
      "title": "Implement Deferred Scenario Computation",
      "description": "Trigger simulation by button click, not tab navigation",
      "type": "code",
      "depends_on": [5],
      "status": "complete",
      "notes": "Changed from useMemo to useEffect+useState pattern; simulationVersion counter triggers computation; cachedTeachingScenarios holds results; results persist when params change"
    },
    {
      "id": 7,
      "number": 7,
      "title": "Remove Existing Monte Carlo Page/Modal",
      "description": "Clean up old Monte Carlo visualization component",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Removed: MonteCarloResult interface, computeMonteCarloSimulation function, mcResult/showMcModal/mcComputing state variables, handleComputeMC handler, mcChartData useMemo, 'Compute Monte Carlo' button, entire Monte Carlo Modal JSX block (219 lines). MonteCarloSimulationResult interface and runMonteCarloSimulation kept for Scenarios tab."
    },
    {
      "id": 8,
      "number": 8,
      "title": "Use Selected HC Beta for Scenarios",
      "description": "No separate beta analysis, use selected beta from assumptions",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Removed separate scenarioBeta toggle; now uses params.stockBetaHC from assumptions panel; scenarios computed for single beta value only"
    },
    {
      "id": 9,
      "number": 9,
      "title": "Update Summary Tab",
      "description": "Remove Fan Charts, keep bar charts only",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Removed 'Detailed Charts for Each Scenario' section (350+ lines) containing AreaChart fan charts. Summary tab now shows only: 3 bar charts (Default Rates, PV Consumption, Terminal Wealth), Detailed Metrics table, and Key Takeaways."
    },
    {
      "id": 10,
      "number": 10,
      "title": "Implement Cumulative Stock Market Returns panel (fan chart)",
      "description": "Create fan chart panel showing stock market returns across simulations",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel 1 of 8: AreaChart with stacked percentile bands (p5-p25, p25-p75, p75-p95), median line, log scale Y-axis, retirement age reference line, purple color scheme (#9b59b6). Data sourced from teachingScenarios.ldi.percentiles.cumulativeStockReturns."
    },
    {
      "id": 11,
      "number": 11,
      "title": "Implement Interest Rate Paths panel (fan chart)",
      "description": "Create fan chart panel showing interest rate paths across simulations",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel 2 of 8: AreaChart with stacked percentile bands for interest rates as percentage, blue color (#3498db), retirement age reference line. Data sourced from teachingScenarios.ldi.percentiles.interestRates."
    },
    {
      "id": 12,
      "number": 12,
      "title": "Implement Financial Wealth panel (overlaid fan chart - LDI vs RoT)",
      "description": "Create overlaid fan chart comparing LDI and RoT financial wealth paths",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel 3 of 8: LineChart with overlaid LDI (blue #1A759F) and RoT (gold #E9C46A) percentile lines (p5, p50, p95). Shows median and 5th/95th percentiles for both strategies with retirement reference line."
    },
    {
      "id": 13,
      "number": 13,
      "title": "Implement Default Timing panel (histogram)",
      "description": "Create histogram showing distribution of default timing events",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel 4 of 8: Shows default rates as large summary metrics plus BarChart histogram with 2-year age bins if any defaults occurred. LDI (blue) vs RoT (gold) grouped bars. Data sourced from teachingScenarios.ldi/rot.result.defaultAge arrays."
    },
    {
      "id": 14,
      "number": 14,
      "title": "Implement Stock Allocation panel (overlaid fan chart - LDI vs RoT)",
      "description": "Create overlaid fan chart comparing LDI and RoT stock allocation over time",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel 5 of 8: LineChart with overlaid percentile lines (p5, p50, p95) for both strategies. Y-axis 0-100%. LDI dynamic vs RoT static allocation. Data sourced from teachingScenarios.ldi/rot.percentiles.stockWeight."
    },
    {
      "id": 15,
      "number": 15,
      "title": "Implement Bond Allocation panel (overlaid fan chart - LDI vs RoT)",
      "description": "Create overlaid fan chart comparing LDI and RoT bond allocation over time",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel 6 of 8: LineChart with overlaid percentile lines (p5, p50, p95) for both strategies. Y-axis 0-100%. Duration-matched bonds for LDI. Data sourced from teachingScenarios.ldi/rot.percentiles.bondWeight."
    },
    {
      "id": 16,
      "number": 16,
      "title": "Implement Terminal Wealth Distribution panel (histogram)",
      "description": "Create histogram showing distribution of terminal wealth outcomes",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel 7 of 8: Shows median terminal wealth for both strategies plus BarChart histogram with log-scale bins ($0-10k, $10-100k, etc.). LDI (blue) vs RoT (gold) grouped bars. Data from teachingScenarios.ldi/rot.result.finalWealth."
    },
    {
      "id": 17,
      "number": 17,
      "title": "Implement PV Consumption Distribution panel (histogram)",
      "description": "Create histogram showing distribution of PV consumption outcomes",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel 8 of 8: Shows median PV consumption for both strategies plus BarChart histogram with linear bins ($0-1000k, $1000-2000k, etc.). Computes PV using computePvConsumption helper. Data from teachingScenarios.ldi/rot.result.consumption."
    }
  ],
  "total_tasks": 17,
  "metadata": {
    "created_at": "2026-01-26",
    "project": "finc450_lifecycle",
    "version": "1.0"
  }
}
