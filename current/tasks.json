{
  "tasks": [
    {
      "id": 1,
      "number": 1,
      "title": "Create PNG Export Infrastructure",
      "description": "Add utility functions to save matplotlib figures as PNG",
      "type": "code",
      "depends_on": [],
      "status": "complete"
    },
    {
      "id": 2,
      "number": 2,
      "title": "Modify generate_report.py for PNG Export",
      "description": "Save 40 panels from lifecycle_report.pdf",
      "type": "code",
      "depends_on": [1],
      "status": "complete",
      "notes": "Added _save_base_case_panels, _save_beta_comparison_panels, _save_allocation_comparison_panels helpers; modified generate_lifecycle_pdf to export PNG panels with export_png=True parameter"
    },
    {
      "id": 3,
      "number": 3,
      "title": "Modify compare_teaching_scenarios.py for PNG Export",
      "description": "Save 54 panels from teaching_scenarios.pdf",
      "type": "code",
      "depends_on": [1],
      "status": "complete",
      "notes": "Added save_axes_as_png, save_scenario_panels, save_summary_panels helpers; modified create_scenario_figure and create_summary_figure to return axes; integrated PNG export into generate_teaching_scenarios_pdf"
    },
    {
      "id": 4,
      "number": 4,
      "title": "Create Output Directory Structure",
      "description": "Ensure output/teaching_panels/ exists",
      "type": "code",
      "depends_on": [],
      "status": "complete"
    },
    {
      "id": 5,
      "number": 5,
      "title": "Add 'Run Simulation' Button to Scenarios Tab Header",
      "description": "Add button to trigger scenario computation on demand",
      "type": "code",
      "depends_on": [],
      "status": "complete",
      "notes": "Added simulationRun and scenarioComputing state variables; button visible at top of Scenarios tab with loading state"
    },
    {
      "id": 6,
      "number": 6,
      "title": "Implement Deferred Scenario Computation",
      "description": "Trigger simulation by button click, not tab navigation",
      "type": "code",
      "depends_on": [5],
      "status": "complete",
      "notes": "Changed from useMemo to useEffect+useState pattern; simulationVersion counter triggers computation; cachedTeachingScenarios holds results; results persist when params change"
    },
    {
      "id": 7,
      "number": 7,
      "title": "Remove Existing Monte Carlo Page/Modal",
      "description": "Clean up old Monte Carlo visualization component",
      "type": "code",
      "depends_on": [6],
      "status": "pending"
    },
    {
      "id": 8,
      "number": 8,
      "title": "Use Selected HC Beta for Scenarios",
      "description": "No separate beta analysis, use selected beta from assumptions",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Removed separate scenarioBeta toggle; now uses params.stockBetaHC from assumptions panel; scenarios computed for single beta value only"
    },
    {
      "id": 9,
      "number": 9,
      "title": "Update Summary Tab",
      "description": "Remove Fan Charts, keep bar charts only",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Removed 'Detailed Charts for Each Scenario' section (350+ lines) containing AreaChart fan charts. Summary tab now shows only: 3 bar charts (Default Rates, PV Consumption, Terminal Wealth), Detailed Metrics table, and Key Takeaways."
    },
    {
      "id": 10,
      "number": 10,
      "title": "Implement Cumulative Stock Market Returns panel (fan chart)",
      "description": "Create fan chart panel showing stock market returns across simulations",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel already exists at lines 5345-5383 with AreaChart, stacked percentile bands (p5-p25, p25-p75, p75-p95), median line, log scale Y-axis, retirement age reference line, and purple color scheme matching PDF"
    },
    {
      "id": 11,
      "number": 11,
      "title": "Implement Interest Rate Paths panel (fan chart)",
      "description": "Create fan chart panel showing interest rate paths across simulations",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel already implemented at lines 5369-5401 in lifecycle_visualizer_artifact.tsx. Shows interest rate percentiles (p5-p95) as stacked AreaChart bands with blue color (#3498db) matching PDF. Panel 2 of 8 in individual scenario tabs, under 'Market Conditions' ChartSection."
    },
    {
      "id": 12,
      "number": 12,
      "title": "Implement Financial Wealth panel (overlaid fan chart - LDI vs RoT)",
      "description": "Create overlaid fan chart comparing LDI and RoT financial wealth paths",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel already implemented at lines 5251-5296 in lifecycle_visualizer_artifact.tsx. Uses AreaChart with overlaid percentile bands (p5-p25, p25-p75, p75-p95) for both LDI (blue #2980b9) and RoT (gold #d4a84c). Separate stackIds allow independent stacking. Median lines overlay the fan charts."
    },
    {
      "id": 13,
      "number": 13,
      "title": "Implement Default Timing panel (histogram)",
      "description": "Create histogram showing distribution of default timing events",
      "type": "code",
      "depends_on": [6],
      "status": "pending"
    },
    {
      "id": 14,
      "number": 14,
      "title": "Implement Stock Allocation panel (overlaid fan chart - LDI vs RoT)",
      "description": "Create overlaid fan chart comparing LDI and RoT stock allocation over time",
      "type": "code",
      "depends_on": [6],
      "status": "pending"
    },
    {
      "id": 15,
      "number": 15,
      "title": "Implement Bond Allocation panel (overlaid fan chart - LDI vs RoT)",
      "description": "Create overlaid fan chart comparing LDI and RoT bond allocation over time",
      "type": "code",
      "depends_on": [6],
      "status": "blocked",
      "notes": "BLOCKED: Task 9 removed the 'Detailed Charts for Each Scenario' section that contained the individual scenario tabs with 8 panels. The teachingScenarios data (with percentiles.bondWeight) is now only used for summary bar charts. Alternative scenario tabs (sequenceRisk, rateShock) use scenarioResults which has adaptive/fourPercent strategies without bond allocation percentiles. Requires architecture decision: either restore teachingScenarios panels or add bond allocation data to scenarioResults."
    },
    {
      "id": 16,
      "number": 16,
      "title": "Implement Terminal Wealth Distribution panel (histogram)",
      "description": "Create histogram showing distribution of terminal wealth outcomes",
      "type": "code",
      "depends_on": [6],
      "status": "complete",
      "notes": "Panel already implemented in lifecycle_visualizer_artifact.tsx lines 5543-5562. Shows terminal wealth histogram with LDI (blue) and RoT (gold) grouped bars, log-scale bins, and median values in legend."
    },
    {
      "id": 17,
      "number": 17,
      "title": "Implement PV Consumption Distribution panel (histogram)",
      "description": "Create histogram showing distribution of PV consumption outcomes",
      "type": "code",
      "depends_on": [6],
      "status": "pending"
    }
  ],
  "total_tasks": 17,
  "metadata": {
    "created_at": "2026-01-26",
    "project": "finc450_lifecycle",
    "version": "1.0"
  }
}
